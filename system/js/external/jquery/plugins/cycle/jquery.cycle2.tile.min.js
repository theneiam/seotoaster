(function(e){e.fn.cycle.transitions.tileSlide=e.fn.cycle.transitions.tileBlind={before:function(a,c,f,g){a.API.stackSlides(c,f,g);e(c).css({display:"block",visibility:"visible"});a.container.css("overflow","hidden");a.tileDelay=a.tileDelay||"tileSlide"==a.fx?100:125;a.tileCount=a.tileCount||7;a.tileVertical=!1!==a.tileVertical;a.container.data("cycleTileInitialized")||(a.container.on("cycle-destroyed",e.proxy(this.onDestroy,a.API)),a.container.data("cycleTileInitialized",!0))},transition:function(a,
c,f,g,v){function s(b){m.eq(b).animate(t,{duration:a.speed,easing:a.easing,complete:function(){(g?d-1===b:0===b)&&a._tileAniCallback()}});setTimeout(function(){(g?d-1!==b:0!==b)&&s(g?b+1:b-1)},a.tileDelay)}a.slides.not(c).not(f).css("visibility","hidden");var m=e(),l=e(c),u=e(f),h,q,r,d=a.tileCount,k=a.tileVertical,b=a.container.height(),n=a.container.width();k?(c=Math.floor(n/d),q=n-c*(d-1),h=r=b):(c=q=n,h=Math.floor(b/d),r=b-h*(d-1));a.container.find(".cycle-tiles-container").remove();var t,w={left:0,
top:0,overflow:"hidden",position:"absolute",margin:0,padding:0};t=k?"tileSlide"==a.fx?{top:b}:{width:0}:"tileSlide"==a.fx?{left:n}:{height:0};var p=e('<div class="cycle-tiles-container"></div>');p.css({zIndex:l.css("z-index"),overflow:"visible",position:"absolute",top:0,left:0,direction:"ltr"});p.insertBefore(f);for(b=0;b<d;b++)f=e("<div></div>").css(w).css({width:d-1===b?q:c,height:d-1===b?r:h,marginLeft:k?b*c:0,marginTop:k?0:b*h}).append(l.clone().css({position:"relative",maxWidth:"none",width:l.width(),
margin:0,padding:0,marginLeft:k?-(b*c):0,marginTop:k?0:-(b*h)})),m=m.add(f);p.append(m);l.css("visibility","hidden");u.css({opacity:1,display:"block",visibility:"visible"});s(g?0:d-1);a._tileAniCallback=function(){u.css({display:"block",visibility:"visible"});l.css("visibility","hidden");p.remove();v()}},stopTransition:function(a){a.container.find("*").stop(!0,!0);a._tileAniCallback&&a._tileAniCallback()},onDestroy:function(a){this.opts().container.find(".cycle-tiles-container").remove()}}})(jQuery);
